<div class="page-header">
  <h1>Kiracı Düzenle</h1>
  <button type="button" class="btn btn-secondary" (click)="onCancel()">
    <i class="fas fa-arrow-left"></i> Geri
  </button>
  
</div>

<div class="panel-style">
  <div class="panel-header">
    <h2>Kiracı Bilgileri</h2>
  </div>
  <div class="panel-body">
    @if (isLoading) {
      <div class="text-center py-4">
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Yükleniyor...</span>
        </div>
      </div>
    } @else {
      <form (ngSubmit)="onSave()" #editForm="ngForm">
        <div class="info-grid">
          <div class="form-group">
            <label for="name">Kiracı Adı</label>
            <input
              type="text"
              id="name"
              name="name"
              class="form-control"
              [(ngModel)]="editModel.name"
              required
              [disabled]="isSaving"
            />
          </div>

          <div class="form-group">
            <label for="contractEmail">E-posta</label>
            <input
              type="email"
              id="contractEmail"
              name="contractEmail"
              class="form-control"
              [(ngModel)]="editModel.contractEmail"
              required
              [disabled]="isSaving"
            />
          </div>

          <div class="form-group">
            <label for="contractPhone">Telefon</label>
            <input
              type="tel"
              id="contractPhone"
              name="contractPhone"
              class="form-control"
              [(ngModel)]="editModel.contractPhone"
              [disabled]="isSaving"
            />
          </div>

          <div class="form-group">
            <label for="tenantPlan">Plan</label>
            <select
              id="tenantPlan"
              name="tenantPlan"
              class="form-control"
              [(ngModel)]="editModel.tenantPlan"
              [disabled]="isSaving"
            >
              <option value="">Seçiniz</option>
              <option [ngValue]="1">Basic</option>
              <option [ngValue]="2">Standard</option>
              <option [ngValue]="3">Premium</option>
              <option [ngValue]="4">Enterprise</option>
            </select>
          </div>

          <div class="form-group">
            <label for="maxUsers">Maks. Kullanıcı</label>
            <input
              type="number"
              id="maxUsers"
              name="maxUsers"
              class="form-control"
              [(ngModel)]="editModel.maxUsers"
              min="1"
              required
              [disabled]="isSaving"
            />
          </div>

          <div class="form-group">
            <label for="maxStores">Maks. Mağaza</label>
            <input
              type="number"
              id="maxStores"
              name="maxStores"
              class="form-control"
              [(ngModel)]="editModel.maxStores"
              min="1"
              required
              [disabled]="isSaving"
            />
          </div>

          <div class="form-group">
            <label for="status">Durum</label>
            <select
              id="status"
              name="status"
              class="form-control"
              [(ngModel)]="editModel.status"
              [disabled]="isSaving"
            >
              <option [ngValue]="1">Aktif</option>
              <option [ngValue]="0">Pasif</option>
            </select>
          </div> 
        </div>

        <div class="form-actions">
          <button type="button" class="btn btn-secondary" (click)="onCancel()" [disabled]="isSaving">
            İptal
          </button>
          <button type="submit" class="btn btn-primary" [disabled]="editForm.invalid || isSaving">
            {{ isSaving ? 'Kaydediliyor...' : 'Kaydet' }}
          </button>
        </div>
      </form>
    }
  </div>
</div>
